试验环境：在“1、增删查改”的基础上进行



1、在对应的标签上开启使用自增主键值策略：useGenerateKey="true";

```javascript
<!--
mysql支持自增主键，自增主键值得获取，mybatis也是利用statement。getGenreatedKeys();
useGenerateKeys="true";使用自增主键获取主键值策略KeyProperty;
指定对应的主键属性，也就是mybatis获取主键值以后，将这个值传给JavaBean的哪个属性；
 -->
 
<insert id="addEmp" useGeneratedKeys="true" keyProperty="id">
//keyProperty="id",把获取到的主键值赋给Javabean的id属性；
	insert into tbl_employee(last_name,email,gender) values(#{lastname},#{email},#{gender})
</insert>
```

# 2、编辑测试文件，输出主键值

```javascript
Employee employee=new Employee(null,"jeryy","jeryy@guigu","1"); //执行增加操作，同时获取主键值
	mapper.addEmp(employee);
	System.out.println(employee.getId());//输出主键的值
```

### 3、运行结果

```javascript
DEBUG 09-24 15:49:25,539 ==>  Preparing: insert into tbl_employee(last_name,email,gender) values(?,?,?)   (BaseJdbcLogger.java:145) 
DEBUG 09-24 15:49:25,603 ==> Parameters: jeryy(String), jeryy@guigu(String), 1(String)  (BaseJdbcLogger.java:145) 
DEBUG 09-24 15:49:25,609 <==    Updates: 1  (BaseJdbcLogger.java:145) 
4 //主键值
```

注意：oracle不支持主键自增，不能使用此方式