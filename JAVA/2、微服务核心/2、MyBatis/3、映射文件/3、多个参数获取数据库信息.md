



1、当想绑定的接口的方法中有多个参数：

方法一：

方法二：

//测试类：

2、通过map传入数据

xxxMapper.java

xxxMapper.xml

xxxTest.java



---

# 1、当想绑定的接口的方法中有多个参数：

```javascript
public interface EmployeeMapper {
	public Employee getEmpByIdAndLastName(Integer id,String lastName);
 	//此方法有两个参数  

}

/*
*如果想xml文件中的检索语句写的是：
*    <select>
*    	select * from tbl_employee where id=#{id} and last_name=#{lastName}
*    </select>
*		这样就会报错，报错原因：
*    		-方法中有两个参数，但是映射sql语句时，key值不能通过形参的名称进行传递；      	
*			-正确的传递方法应该是使用索引（就像数组一样
*				索引有：0,1,2，。。。。或者param1，param2.。。。
*				例如：
*  			mapper:	public Employee getEmpByIdAndLastName(Integer id,String lastName);
*				xml：select * from tbl_employee where id=#{param1} and last_name=#{param2}
*			-但是如果参数过多，使用索引容易造成混乱，索引也可以使用注解的方式
*				注解方式：@Param("key值")，例如：
*			 mapper:public Employee getEmpByIdAndLastName(@Param("id")Integer id,@Param("lastName")String lastName);
*			 xml：	  select * from tbl_employee where id=#{id} and last_name=#{lastName}  
*/

```

# 方法一：

```javascript
mapper:	public Employee getEmpByIdAndLastName(Integer id,String lastName);
xml： select * from tbl_employee where id=#{param1} and last_name=#{param2}
```

# 方法二：

```javascript
 mapper:public Employee getEmpByIdAndLastName(@Param("id")Integer id,@Param("lastName")String lastName);
 xml：	  select * from tbl_employee where id=#{id} and last_name=#{lastName}  
```

# //测试类：

```javascript
public SqlSessionFactory  getSqlSessionFactory() throws IOException{
		String resource="mybatis-confing1.xml";
		InputStream inputStream = Resources.getResourceAsStream(resource);
		return new SqlSessionFactoryBuilder().build(inputStream);
	}
@Test
	public void test04() throws IOException {   
		//1、获取sqlSessionFactory对象
		SqlSessionFactory sqlSessionFactory=getSqlSessionFactory();
		//2、获取sqlSession 对象
		SqlSession openSession=sqlSessionFactory.openSession();
		try { 
		//3、获取接口的实现类对象 
		EmployeeMapper mapper=openSession.getMapper(EmployeeMapper.class);
		Employee employee =mapper.getEmpByIdAndLastName(1,"jeryy");
		//System.out.println(mapper.getClass()); 
		System.out.println(employee);
		}finally { 
			openSession.close(); 
		}
	}
```



```javascript
/*
*单个参数：mybatis不会左特殊处理
*	#{参数名}：取出参数值
*
*多个参数：mybatis会做特殊处理
*	多个参数会被封装成一个map，
*		key:param1....paramN，或者参数的索引也可以
*	    #{}就是从map中获取指定的key值；@Param("id") //通过注解的方式
*		多个参数会被封装成map
*		key:使用@param注解指定的值
*		value:参数值
*		#{指定key值}取出对应的参数值
*
*POJO
*如果多个参数正好是业务逻辑的数据模型，我们就可以直接传入POJO；
*	#{属性名}：取出POJO的属性值
*
```



---

# 2、通过map传入数据

```javascript
*Map
*如果多个参数不是业务模型中的数据，没有对应的POJO，不经常使用，为了方便，我们可以传入map
*	#{key}:取出map中对应的值
*
*TO
*如果多个参数不是业务模型中的数据，但是经常使用，推荐编写一个TO（Transfer Object)数据传输对象
*Page{
    int index；
    int size；
    }
*/

```

## xxxMapper.java

```javascript
public interface EmployeeMapper {  
       Employee  getEmpByMap(Map<String,Object> map);  //定于与之对应的方法
}
```

## xxxMapper.xml

```javascript
<select id="getEmpByMap" resultType="mybatis.bean.Employee">   //建立对应的<select>标签
    select * from tbl_employee where id=#{id} and last_name=#{last_name}
</select>
```

## xxxTest.java

```javascript
EmployeeMapper mapper=openSession.getMapper(EmployeeMapper.class);
Map<String,Object> map=new HashMap<>();
map.put("id",1);	//上传map需要查询的数据
map.put("last_name","jerry");
Employee employee=mapper.getEmpByMap(map); //获取数据
```

