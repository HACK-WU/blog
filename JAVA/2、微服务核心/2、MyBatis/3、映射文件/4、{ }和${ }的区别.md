# 1、#{ }和${ }的区别

```xml
elect * from tbl_employee where id=${id} and last_name=#{last_name}
<!--
    区别:
        #{ }:是以预编译的形式，将参数设置到Sql语句中;PreparedStatement;防止Sql注入
        ${ }:取出的值直接拼装在Sql语句中，会有安全问题；
        大多数情况下，我们去参数的值都应该使用#{ }；

        元原生JDBC不支持占位符的地方我可以使用${ }进行取值比如分表、排序等；
        按照年份分表拆分
            select * from ${year}_salary where xxx;
            select * from tbl_employee order by ${f_name} ${order}
-->
```



---

# 2、#{ }更丰富的用法

```javascript
/*
*#{ }:更丰富用法
*	-规定参数一些规则：
*		javaType,jdbcType,mode(存储过程),numericScale,
*		resultMap,typeHander,jdbcTypeName,expression(未来可能支持的功能)；
*
*		jdbcType通常需要在某种特定的条件下被设置：
*			在我们为null的时候，有些数据库可能不能识别mybatis对null的默认处理
*			比如Oracle(报错)；
*			因为mybatis对所有的null都映射的是原生Jdbc的OTHER类型；
*		由于全局配置中：jdbcTypeForNull=OTHER；oracle不支持；两种办法：
*			1、#{形参，jdbcType=OTHER}
*			2、jdbcTypeForNull=NUll
*				<setting name="jdbcTypeForNull" value="NULL">
*/
```

















