

1、注意事项

1.1应该选择那种软件包？

1.2源码包从哪里来？

1.31.3 是否可以在系统中即安装 rpm 包的 Apache ，又安装源码包的 Apache ？


2 ．安装过程


# 1、注意事项

## 1.1应该选择那种软件包？

- 如果软件包是给大量客户访问的，建议使用源码包，如LAMP环境搭建，因为源码包效率更高。

- 如果软件是给Linux底层用的，或者只给少量客户访问，建议使用rpm包安装，因为rpm包简单。



## 1.2源码包从哪里来？

rpm包是光盘里面直接包含的，所以用户不需要单独下载。而源码包是通过官方网站下载的，如果需要使用，需要单独下载。



## 1.31.3 是否可以在系统中即安装 rpm 包的 Apache ，又安装源码包的 Apache ？


答案是可以，因为两种安装方法安装的Apache，安装位置是不一样的，例如：


RPM 包：不建议指定安装位置的，建议安装在默认位置（RPM 包安装的服务有标准卸载命令，不怕文


件到处安装）


```javascript
配置文件： /etc/httpd/conf/httpd.conf
网页位置： /var/www/html/
日志位置： /var/log/httpd/

启动方法： 1） service httpd restart  //systemctl start httpd
    		2） /etc/rc.d/init.d/httpd restart
```




源码包：必须制定安装位置（源码包没有安装数据库，没有删除命令）


```javascript
配置文件： /usr/local/apache2/conf/httpd.conf
网页文件： /usr/local/apache2/htdocs/
日志位置： /usr/local/apache2/logs/
启动方法： /usr/local/apache2/bin/apachectl start
```



# 2 ．安装过程


我们来解释一下源码包安装的具体步骤。

安装前的必备工具（yum install -y gcc)


- （1）下载软件包。


- （2）解压缩。


- （3）进入解压目录。


- （4）./configure 编译前准备

```javascript
[root@bogon htdocs]#  ./configure  --prefix=/usr/local/.......
```

这一步主要有三个作用：


① 在安装之前需要检测系统环境是否符合安装要求。


② 定义需要的功能选项。“./configure”支持的功能选项较多，可以执行“./configure --help”


命令查询其支持的功能。一般都会通过“./configure --prefix=安装路径”来指定安装路径。


③ 把系统环境的检测结果和定义好的功能选项写入 Makefile 文件，后续的编译和安装需要依


赖这个文件的内容。


需要注意的是，configure 不是系统命令，而是源码包软件自带的一个脚本程序，所以必须采用


“./configure”方式执行（“./”代表在当前目录下）。


- （5）make 编译


make 会调用 gcc 编译器，并读取 Makefile 文件中的信息进行系统软件编译。编译的目的就是把


源码程序转变为能被 Linux 识别的可执行文件，这些可执行文件保存在当前目录下。编译过程较为耗


时，需要有足够的耐心。

补充：当进行./configure的完成并且成功的时候，程序会自动生成一个Makefile文件，这个文件中记录着

程序该如何去编译此文件的相关信息。

当执行make命令时，程序会去找到这个Makefile文件，然后按照文件中的指示去编译文件。


- （6）make clean：清空编译内容（非必需步骤）。


如果在“./configure”或“make”编译中报错，那么我们在重新执行命令前一定要记得执行 make


clean 命令，它会清空 Makefile 文件或编译产生的“.o”头文件。

补充：如果在make（编译）时发生错误，那么程序同时也会生成错误的目标文件（.o结尾），如果不删除错误的

目标文件，再次编译时，程序可能会使用错误的目标文件，再次造成编译错误。

所以需要执行make clean 命令，清除上次执行时产生的目标文件。


- （7）make install： 编译安装


这才是真正的安装过程，一般会写清楚程序的安装位置。如果忘记指定安装目录，则可以把这个


命令的执行过程保存下来，以备将来删除使用。




# 3. 删除


源码包没有删除命令，如果需要删除，直接删除安装目录即可。

# 4、实战，安装代码雨程序



```javascript

```

