E-mail:[shengchao@atguigu.com](http://shengchao@atguigu.com)

# **1、位置参数变量**

| 位置参数变量 | 作用 | 
| -- | -- |
| $n | n为数字，$0代表命令本身，$1-9代表第一个到第九个参数，十一上的参数需要大括号包含，如${10} | 
| $* | 这个变量代表命令行中的所有参数，$*把所有的参数组成一个字符串便成为一个整体 | 
| $@ | 这个变量可以看成一个字符数组，把所有的参数装入了这个数组； | 
| $# | 表示参数的个数 | 


- 

```javascript
[root@localhost sh]# vi count.sh
#!/bin/bash
# Author: shenchao （E-mail: shenchao@atguigu.com）
num1=$1
#给 num1 变量赋值是第一个参数
num2=$2
#给 num2 变量赋值是第二个参数
sum=$(( $num1 + $num2))
#变量 sum 的和是 num1 加 num2
#Shell 当中的运算还是不太一样的，我们 Shell 运算符小节中详细介绍
echo $sum
#打印变量 sum 的值
```

- 那么还有几个位置参数变量是干嘛的呢？我们在写个脚本来说明下：



```javascript
[root@localhost sh]# vi parameter.sh
#!/bin/bash
# Author: shenchao （E-mail: shenchao@atguigu.com）
echo "A total of $# parameters"
#使用$#代表所有参数的个数
echo "The parameters is: $*"
#使用$*代表所有的参数
echo "The parameters is: $@"
#使用$@也代表所有参数
```

那么“$*”和“$@”有区别吗？还是有区别的，$*会把接收的所有参数当成一个整体对待，而$@

则会区分对待接收到的所有参数。还是举个例子：

```javascript
[root@localhost sh]# vi parameter2.sh
#!/bin/bash
# Author: shenchao （E-mail: shenchao@atguigu.com）
for i in "$*"
#定义 for 循环，in 后面有几个值，for 会循环多少次，注意“$*”要用双引号括起来
#每次循环会把 in 后面的值赋予变量 i
#Shell 把$*中的所有参数看成是一个整体，所以这个 for 循环只会循环一次
do
echo "The parameters is: $i"
#打印变量$i 的值
done
x=1
#定义变量 x 的值为 1
for y in "$@"
#同样 in 后面的有几个值，for 循环几次，每次都把值赋予变量 y
#可是 Shell 中把“$@”中的每个参数都看成是独立的，所以“$@”中有几个参数，就会循环几次
do
echo "The parameter$x is: $y"
#输出变量 y 的值
x=$(( $x +1 ))
#然变量 x 每次循环都加 1，为了输出时看的更清楚
done
```

# **例子：**

## **1）count.sh  **

```javascript
[root@bogon ~]# vi count.sh 

#!/bin/bash

a=$1
b=$2

sum=$(( $a + $b))
echo $sum 


echo $0

[root@bogon ~]# ./count.sh 11 33 
44
```

## **2）para.sh**

```javascript
[root@bogon ~]# vi para.sh 

#!/bin/bash
echo "\$* is $*"
echo "\$@ is $@"
echo "\$# is $#"
 
  
[root@bogon ~]# ./para.sh  11 22 33
$* is 11 22 33
$@ is 11 22 33
$# is 3
[root@bogon ~]# 
```

## **3) for.sh**

```javascript
[root@bogon ~]# vi for.sh 
#!/bin/bash


for i in 1 2 3
        do
                echo $i
        done


[root@bogon ~]# ./for.sh 
1
2
3
```

## **4) para2.sh**

```javascript
[root@bogon ~]# cat para2.sh 
#!/bin/bash


for i in "$*"
	do
		echo $i
	done

echo "============================================"


for i in "$@"
	do
		echo $i
	done

[root@bogon ~]# ./para2.sh 

============================================
[root@bogon ~]# ./para2.sh 11 223 44 667 
11 223 44 667
============================================
11
223
44
667
```

# **2、预定义变量**

| 预定义变量 | 作    用 | 
| -- | -- |
| $? | 显示上一次执行命令的返回状态。如果显示为0，则上一次命令正确执行，否则没有正确执行（不同的数字，有不同的状态） | 
| $$ | 显示当前进程的的进程号（PID） | 
| $! | 后台运行的最后一个进程的进程号（PID） | 


- 我们先来看看“$?”这个变量，看起来不好理解，我们还是举个例子：

```javascript
[root@localhost sh]# ls
count.sh hello.sh parameter2.sh parameter.sh
#ls 命令正确执行
[root@localhost sh]# echo $?
0
#预定义变量“$?”的值是 0，证明上一个命令执行正确
[root@localhost sh]# ls install.log
ls: 无法访问 install.log: 没有那个文件或目录
#当前目录中没有 install.log 文件，所以 ls 命令报错了
[root@localhost sh]# echo $?
2
#变量“$?”返回一个非 0 的值，证明上一个命令没有正确执行
#至于错误的返回值到底是多少，是在编写 ls 命令时定义好的，如果碰到文件不存在就返回数值 2
```

- 接下来我们来说明下“$$”和“$!”这两个预定义变量，我们写个脚本吧：

```javascript
[root@localhost sh]# vi variable.sh
#!/bin/bash
# Author: shenchao （E-mail: shenchao@atguigu.com）
echo "The current process is $$"
#输出当前进程的 PID。
#这个 PID 就是 variable.sh 这个脚本执行时，生成的进程的 PID
find /root -name hello.sh &
#使用 find 命令在 root 目录下查找 hello.sh 文件
#符号&的意思是把命令放入后台执行，工作管理我们在系统管理章节会详细介绍
echo "The last one Daemon process is $!"
#输出这个后台执行命令的进程的 PID，也就是输出 find 命令的 PID 号
```

## **例子：**

```javascript
[root@bogon ~]#  echo $?
0
[root@bogon ~]# 
[root@bogon ~]# echo $?
0
[root@bogon ~]# $$
-bash: 1718: 未找到命令
[root@bogon ~]# echo $$
1718
[root@bogon ~]# echo $!

```