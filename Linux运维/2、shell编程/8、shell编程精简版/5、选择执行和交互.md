# 1、选择执行

## 1）单分支选择结构

```
if 判断条件；then
条件为真的分支代码
fi
```

## 2）双分支选择结构

```
if 判断条件；then
条件为真的分支代码
else
条件为假的分支代码
fi
```

## 3）多分支选择结构

```
if 判断条件;then
条件为真的分支代码
elif 判断条件;then
条件为真的分支代码
else
条件为假的分支代码
fi
```

## 4）练习题

```
练习1：判断两个数是否相等
#!/bin/bash
a=10
b=20
if [ $a == $b ]
then
echo "a 等于 b"
elif [ $a -gt $b ]
then
echo "a 大于 b"
elif [ $a -lt $b ]
then
echo "a 小于 b"
else
echo "没有符合的条件"
fi
Note：if经常会与test命令一起使用
练习2：判断用户是否存在，如果不存在添加用户，并设置密码和用户相同
#!/bin/bash
if [ $# -lt 1 ];then
echo "at least one argument"
exit 1
fi
if id $1 &>/dev/null;then
echo "$1 exit"
exit 0
else
useradd $1
[ $? -eq 0 ] && echo "$1" | passwd --stdin $1 &>/dev/null
fi
```

# 2、用户交互

## 1）read命令

常用选项：

```
‐a：将内容读入到数组中
    echo ‐n "Input muliple values into an array:"
    read ‐a array
    echo "get ${#array[@]} values in array"
‐d ： 表示delimiter，即定界符，例如输入为 hello m，有效值为“hello”，请注意m前面的空格等会被删除
‐e ：只用于互相交互的脚本
‐n ： 用于限定最多可以有多少字符可以作为有效读入
‐p ：用于给出提示符，例如：echo –n “…“来给出提示符，可以使用read –p ‘… mypromt?’value的方式只需一个语句来表示
‐r ：特殊字符生效(/n等)，也应采用‐r选项。
‐s ： 对于一些特殊的符号不打印的情况
‐t ：用于表示等待输入的时间(s),等待时间超过，将继续执行后面的脚本
```

### 练习1：提示为："input your name:"，输入姓名后，进行输出

```
 #!/bin/bash
read -p "input your name:" name
echo ${name}
exit 0
```

### 练习2：读取test.txt文本，输出格式为: linecount:context

```
test.txt
aaa
bbb
ccc
#!/bin/bash
count=1
cat test.txt | whiel read line
do
echo "$count:$line"
count=$[ $count+1 ]
done
echo "Finish"
```