**循环语句**

# 1、for循环

- 循环体：需要执行的语句，可能执行n遍

- 语法

```
for 变量名 in 列表;do
循环体
done
```

- 执行机制：依次将列表中的元素赋值给“变量名”；每次赋值后执行一次循环体；直到列表中的元素耗尽，循环结束

- 练习题1：创建用户user1‐user10家目录，并且在user1‐10家目录下创建1.txt‐10.txt

```
#!/bin/bash
for i in {1..10};do
mkdir /home/user$i
for i in (seq 1 10);do
touch /home/user$i/user$i.txt
done
done
练习题2：列出/var/目录下各个子目录占用磁盘大小
#!/bin/bash
for i in $(ls /var/);do
[ -d $i ] && du -sh $i
done
```

练习题2：批量测试地址是否在线

```
[root@localhost ~]# cat ping.sh
#!/bin/bash
for i in {1..255}
do
{
 ping -c2 -W1 192.168.80.$i &> /dev/null
[ $? -eq 0 ] && echo 192.168.80.$i >> ./host.txt
}&
done
```

# 2、while循环

- 语法

```
while 测试条件;do
循环体
done
```

- 经典使用

```
#!/bin/bash
while read a;do
echo $a
done < /datas/6files
```

- 练习题1：计算1+2+..10

```
#!/bin/bash
i=1
sum=0
while ((i<=10))
do
let sum+=i
let ++i
done
echo $sum
```

- 练习题2，猜随机数游戏

```
[root@localhost ~]# cat ran.sh
#!/bin/bash
ran=`echo $((RANDOM%100+1))`
i=0
while true
do
read -p "请输入你要猜的数字" num
let i++
 if [ $num -gt $ran ];then
  echo "你猜测的数字大了"
 elif [ $num -lt $ran ];then
  echo "你猜测的数字小了"
 else
  echo "恭喜你，猜对了！"
  echo " 你一共猜测了$i次"
  exit
 fi
done
```

# 3、until循环

- while的是条件是测真值，until的条件式测假值

- 语法

```
until 条件测试;do
循环体
done
```

- 练习1：99乘法表

```
#!/bin/bash
a=1
b=1
until ((a > 9));do
until ((b>a));do
let "c=a*b" #声明变量c
echo -n "$a*$b=$c "
let b++
done
let a++
let b=1 #因为每个乘法表都是1开始乘，所以b要重置
echo "" #显示到屏幕换行
done
```