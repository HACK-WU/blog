**第三方模块使用**

Nginx官方没有的功能，开源开发者定制开发一些功能，把代码公布出来，可以通过编译加载第三方模块的方式，使用新的功能。

第三方模块网址: [https://www.nginx.com/resources/wiki/modules](https://www.nginx.com/resources/wiki/modules)

# 1、编译安装第三方模块

①上传第三方模块压缩包

上传 ngx-fancyindex-v0.4.3.tar.gz和 echo-nginx-module-0.61.tar.gz ，到/root/soft下。

编译安装以上两个Nginx的第三方模块。

②编译安装，并升级

```
shell > tar zxvf ngx-fancyindex-v8.4.3.tar.gz
shell > tar xvf echo-nginx-module-0.61.tar.gz
shell > cd /root/soft/nginx-1.16.0
shell > ./configure --prefix=/usr/local/nginx --user=www --group=www --with-http_ssl_module
--with-http_stub_status_module --with-http_realip_module --add-module=/root/soft/ngx-fancyindex-8.4.3/ \
--add-module=/root/soft/echo-nginx-module-8.61
shell > make -j4  && make install && make upgrade
```

# 2、fancy-index

文档介绍：[https://www.nginx.com/resources/wiki/fancy-index/](https://www.nginx.com/resources/wiki/fancy-index/)

[https://github.com/aperezdc/ngx-fancyindex](https://github.com/aperezdc/ngx-fancyindex)

fancy-index模块美化列表效果

![](images/WEBRESOURCEe9a9ae860beb6a2452f86dea2d063fc6截图.png)

实现操作步骤:

①查看确认编译模块参数

```
#查看版本号及其编译参数
shell > /usr/local/nginx/sbin/nginx -V
确认是否包含ngx-fancyindex模块
```

②配置实现

```
#可以配置到http、server、location等下。推荐配置到server下
fancyindex on；               #开启fancy indexes 列表显示功能
fancyindex_exact_size off;    #显示更为可读的文件大小
```

# 3、echo

echo模块常用来进行调试用，比如输出打印Nginx默认系统变量

示例语法:

```
location / {
    #输出为文本类型
    default_type text/plain;
    default_type text/html;
    #打印输出查看变量信息
    echo $document_root;
}
```

验证是否一下$document_root是否和root设定的值一致