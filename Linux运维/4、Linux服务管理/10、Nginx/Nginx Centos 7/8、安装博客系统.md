**安装博客系统**

# 1、部署虚拟主机

```
# 为博客创建虚拟主机
vim /etc/nginx/conf.d/typecho.conf
server {
   listen 80;
   server_name blog.iproute.cn;
   root /code/typecho;
   index index.php index.html;
   location ~ .*\.php(\/.*)*$ {
       root /code/typecho;
       fastcgi_pass  127.0.0.1:9000;
       fastcgi_index index.php;
       fastcgi_param SCRIPT_FILENAME
$document_root$fastcgi_script_name;
       include fastcgi_params;
   }
}
# 检查nginx配置，并且重启nginx
nginx -t
systemctl restart nginx
# 下载源代码然后解压重命名
cd /code/
wget http://typecho.org/downloads/1.1-17.10.30-release.tar.gz
tar xzvf 1.1-17.10.30-release.tar.gz
mv build typecho
```

# 2、创建数据库

点击数据库

![](images/WEBRESOURCE059d5a523918802354ff4cafdcf54eb3截图.png)

输入数据库名之后，就可以点击创建

![](images/WEBRESOURCE379be89a32d8a06a727829f5e1a72e96截图.png)

# 3、安装博客系统

下面就可以开始进入网站安装的部分了，访问博客系统页面

![](images/WEBRESOURCE9ffead1b0d61f933d6075e8ab8d8bc38截图.png)

填写数据库密码和网站后台管理员密码

![](images/WEBRESOURCE87010aca6f79ff40ab0b34bed6a0e0d7截图.png)

点击开始安装之后，会出现了如下页面，这个是因为php的用户是www用户，而/code/typecho文件夹

是root用户的，所以这个网站根本没有权限保存数据相关的配置到文件夹中

![](images/WEBRESOURCE7e234cbf1013c615b8e4aedae863b249截图.png)

方法一：直接将typecho文件夹赋予www权限

方法二：手动去帮助网站创建网站没有权限的配置文件，下面将会演示方法二

直接在/code/typecho下创建 config.inc.php 文件，然后将网页提示内容写入这个文件中

```
vim /code/typecho/config.inc.php
复制网页上的内容进去
```

配置文件创建完成之后，可以点击 创建完毕，继续安装>>

下面是安装成功的页面

![](images/WEBRESOURCE1e394b69d4d2352570d168150db897f2截图.png)

# 4、切换主题

默认的主题如下，界面比较的简洁，我们可以给这个网站替换主题，也可以借此加深熟悉我们对Linux命

令行的熟练程度

![](images/WEBRESOURCE3fa4fd421c3909fcbf024c0932b20b82截图.png)

打开官方主题站：[https://typecho.me/](https://typecho.me/)

这边以这个主题为例

![](images/WEBRESOURCE8f1783af47c797ee25c102b6d6e5ffb1截图.png)

点击模板下载

![](images/WEBRESOURCEea903bd8abfe94d3f15e545e94709c92截图.png)

点击下载压缩包

![](images/WEBRESOURCEf6ce41e2648bc4ea7be66f871b1f17ba截图.png)

将主题上传到博客主题的目录 /code/typecho/usr/themes

![](images/WEBRESOURCE12237d1300d910475fd4e7c77e214f85截图.png)

```
# 解压压缩包，并且将主题文件夹重命名
unzip typecho-theme-sagiri-master.zip
mv typecho-theme-sagiri-master sagiri
# 可以删除旧的压缩包文件
rm -rf typecho-theme-sagiri-master.zip
```

进入网站后台切换主题，在地址后面加上 /admin 就可以进入后台登录页面了

![](images/WEBRESOURCE9653911fed934703aab5377e930300ed截图.png)

启用我们刚刚安装的主题

![](images/WEBRESOURCE57be8783fabe5002ea722419d2591b42截图.png)

访问网页前端，查看最终的效果

![](images/WEBRESOURCE582e9aa286ddf838c6a03929d3e53bbe截图.png)