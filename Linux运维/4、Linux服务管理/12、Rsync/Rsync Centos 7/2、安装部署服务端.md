# 1、安装部署服务端

## 1）安装xineted服务

```auto
[root@server1 ~]# yum install rsync.x86_64 -y
[root@server1 ~]# yum install xinetd -y
```

## 2）修改xineted配置文件

```auto
[root@server1 ~]# vim /etc/xinetd.d/rsync
service rsync
{
disable = no
socket_type   = stream
wait       = no
user       = root
server      = /usr/bin/rsync
server_args   = --daemon
port       = 873
log_on_failure  = USERID
}
```

## 3）修改rsync配置文件

```auto
[root@server1 ~]# vim /etc/rsyncd.conf
[test]
path = /test
uid = root
gid = root
max connections = 2
timeout = 300
read only = false
auth users = root
secrets file = /etc/rsync.passwd
strict modes = yes
use chroot = yes
```

## 4）准备密码文件

```auto
[root@server1 ~]# vim /etc/rsync.passwd
root:123456
[root@server1 ~]# chmod 600 /etc/rsync.passwd
```

## 5）启动服务

```auto
[root@server1 ~]# systemctl start xinetd.service
[root@server1 ~]# ss -tanl | grep 873
LISTEN   0    64     :::873           :::*
```

## 6）准备文件

```auto
[root@server1 ~]# mkdir /test
[root@server1 ~]# touch /test/123
```