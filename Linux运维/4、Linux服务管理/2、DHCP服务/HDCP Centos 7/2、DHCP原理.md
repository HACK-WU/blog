**DHCP原理**

DHCP：动态主机设置协议（Dynamic Host Configuration Protocol）是一个局域网的网络协议，使用

UDP协议 工作，主要有两个用途：用于内部网或网络服务供应商自动分配IP地址；给用户用于内部网管

理员作为对所有计算 机作中央管理的手段。

# 1、DHCP使用优点

- 减少管理员的工作量

- 避免IP冲突28

- 提高IP地址的利用率

- 移动计算机后不用重新配置网络信息，能够方便更改错误的可能性

- DHCP用于给设备自动分配IP地址，我们几乎天天用到

# 2、DHCP相关概念

- DHCP客户端：获取网络配置参数

- DHCP服务端：提供网络配置参数（IP地址，默认网关，租约相关信息等）

- DHCP中继代理：服务端和客户端之间转发DHCP的设备（主机或者路由器）

- 作用域：一个网络中的所有可分配IP地址的连续范围，主要用来定义物理子网的单一IP地址范围，

例如192.168.0.0-192.168.255.255

- 超级作用域：一组作用域的集合，实现一个物理子网中多个逻辑IP地址。

- 排除范围：排除作用域内有限的IP地址序列（不使用DHCP服务）192.168.0.100-192.168.0.200

- 地址池：定义作用域+排除范围后，剩余的地址将形成可用地址池

- 保留：DHCP服务器提供永久地址租约，确保客户端始终使用相同的IP地址

- 租用：客户从服务器上获得并临时占用某IP地址的过程

- 租约：

- 获得的IP地址的使用时间

- 获得IP地址时租约被激活并更新其地址租约；当租约到期或者被删除时租约停止

# 3、DHCP运行过程

- DHCP客户端在局域网中发起一个DHCPDiscover包，主要用于发现DHCP服务器

- DHCP服务端接收到Discover包，回应客端Offer包，用于告诉“我”能提供IP地址

- 客户端接收到Offer包后，发送Request请求IP地址

- 服务端发送Ack包，确认信息

# 4、DHCP给设备提供的内容如下

- IP地址

- 子网掩码

- 网关地址

- DNS服务器地址

- 租约时间