# **1、****匿名用户验证：******

**用户账号名称：**

**用户账号密码**

**工作目录**

**默认权限：**

## **1）安装软件：yum install -y vsftpd  ftp;**

## **2)  启动服务：service  vsftpd start（也可以设置自启）**

## **3）创建测试文件：  touch  /var/ftp/atguigu.txt;**

## **4)  登录：ftp 192.168.22.128(服务器ip）：**

```javascript
[root@bogon ~]# ftp 192.168.22.128
Connected to 192.168.22.128 (192.168.22.128).
220 (vsFTPd 2.2.2)
Name (192.168.22.128:root): ftp                #输入登录名,匿名登录直接填写：ftp
331 Please specify the password.				
Password:					    #没有密码直接回车
230 Login successful.			    #登录成功
Remote system type is UNIX.
Using binary mode to transfer files.
ftp> 
```

## **5）ftp>下相关命令选项：**

```javascript
1、？	：列出所有选项；
2、cd	:切换目录；
3、put	:上传文件；
4、get	:下载文件；
5、rename	：给文件改名
6、delete	：删除文件
7、mdelete	:删除多个文件
8、rmdir	:删除目录
9、quit	：退出
10、pwd	:查看当前所在目录
```

## **6）开启上传权限：**

- **修改主配置文件：vi /etc/vsftpd/vsftpd.conf   (写入：**anon_upload_enable=YES)

```javascript
[root@bogon ~]# vi /etc/vsftpd/vsftpd.conf 
# obviously need to create a directory writable by the FTP user.

#anon_upload_enable=YES                     #修改此处，去掉注释，允许上传。
        //这里的上传指的是ftp客户端中的put方法，如果
#
```

- **修改权限：chmod 757  /var/ftp/pub 	;**

**注意了：ftp，匿名根目录，other用户不允许赋予7权限或者w权限。**

**否则，匿名将无法登录。**



# **2、****本地用户验证****：**

**用户账号名称**

**用户账号密码：**

**工作目录：**

**权限：**

## **1)创建放ftp用户：useradd -s /sbin/nologin  zhangsan**

```javascript
root@bogon ~]# useradd -s /sbin/nologin  zhangsan      #此方法创建的用户，无法登录Linux系统 
[root@bogon ~]# passwd  zhangsan 
更改用户 zhangsan 的密码 。
新的 密码：
无效的密码： 过于简单化/系统化
无效的密码： 过于简单
重新输入新的 密码：
passwd： 所有的身份验证令牌已经成功更新。
```

## **2)登录ftp:****（需要关闭SELINUX）**

```javascript
root@bogon ~]# ftp 192.168.22.128
Connected to 192.168.22.128 (192.168.22.128).
220 (vsFTPd 2.2.2)
Name (192.168.22.128:root): zhangsan  
331 Please specify the password.
Password:
230 Login successful.
Remote system type is UNIX.
Using binary mode to transfer files.

```





# **3****、虚拟（virtual） ） 用户验证：******

1. 创建虚拟用户用来代替本地用户，减少本地用户曝光率

2. 使用本地用户作为虚拟用户的映射用户，为虚拟用户提供工作目录和权限控制

3. 能够设置严格的权限（为每一个用户生成单独的配置文件）

![](WEBRESOURCE74eae330cbface0c28d6a4a924c838bf)