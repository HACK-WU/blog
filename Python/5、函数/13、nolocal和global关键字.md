# nolocal

`nonlocal` 是 Python 3 中的一个关键字，用于在嵌套函数中访问外部函数的局部变量。具体来说，`nonlocal` 的作用是将一个变量声明为非本地变量，以便在闭包中对其进行赋值或修改。

以下是一个例子，展示了如何使用 `nonlocal` 关键字：

```python
def outer():
    x = 1

    def inner():
        nonlocal x
        x = 2

    inner()
    print("x =", x)

outer()  # 输出 "x = 2"

```

在上述代码中，`outer()` 函数中定义了一个局部变量 `x`，并在函数内部定义了另一个函数 `inner()`。`inner()` 函数尝试修改 `outer()` 函数的局部变量 `x` 的值，这通常是不被允许的。

但是，在 `inner()` 函数中使用 `nonlocal` 关键字声明 `x` 变量是一个非本地变量。这样，`inner()` 函数就可以访问并修改 `outer()` 函数的局部变量 `x` 了。

需要注意的是，只有在嵌套函数中使用 `nonlocal` 才会有意义。如果在最外层函数中使用 `nonlocal`，Python 会抛出 `SyntaxError` 异常。

另外，`nonlocal` 声明的变量必须在外层函数中已经存在，否则 Python 会抛出 `NameError` 异常。

***

# global&#x20;

`global` 是 Python 中的一个关键字，用于在函数内部声明一个全局变量，以便在函数内部和外部访问和修改该变量。

以下是一个例子，展示了如何使用 `global` 关键字：

```python
x = 1  # 全局变量

def func():
    global x
    x = 2  # 修改全局变量的值

print("Before func, x =", x)
func()
print("After func, x =", x)

```

在上述代码中，我们定义了一个全局变量 `x` 并赋初值为 1。然后，在 `func()` 函数内部使用 `global` 关键字声明 `x` 变量为全局变量。接着，我们修改了 `x` 的值为 2。

在函数调用前打印 `x` 的值时，输出为 1。在函数调用后再次打印 `x` 的值时，输出变为 2。这是因为在函数内部使用了 `global` 关键字，将函数内部的 `x` 变量与全局作用域中的 `x` 变量绑定在一起，从而实现了对全局变量的访问和修改。

需要注意的是，`global` 关键字的使用应谨慎。在函数内部声明变量为全局变量可能会导致变量作用域的混乱和不可预测的结果。建议在需要修改全局变量时，优先考虑使用函数的参数或返回值进行传递和修改，以避免出现意外的副作用。
