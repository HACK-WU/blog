```python
# coding=utf-8
# @Author:wyp
# @FileName:test2.py
# @DateTime:2023/9/25 17:30
class People:
    def __init__(self, name, age):
        self.name = name
        self.age = age
def getter(item):
    def inner(self):
        return getattr(self, item)
    return inner
def setter(item):
    def inner(self, value):
        setattr(self, item, value)
    return inner
def deleter(item):
    def inner(self):
        delattr(self, item)
    return inner
class ProxyPeople:
    def __init__(self, people):
        self.update_attrbute(people)
        self.decorate(people)
    def update_attrbute(self, people):
        for key, value in people.__dict__.items():
            key = "_" + key
            self.__dict__[key] = value
    # 动态添加装饰器
    def decorate(self, people):
        for key in people.__dict__:
            key_func = property(getter("_" + key))
            key_func = key_func.setter(setter("_" + key))
            key_func = key_func.deleter(deleter("_" + key))
            setattr(ProxyPeople, key, key_func)
people = People("张三", 20)
people = ProxyPeople(people)
print(people.__dict__)
print(people.name)
print(people.age)
people.name = "lisi"
print(people.name)
del people.age
print(people.__dict__)
```