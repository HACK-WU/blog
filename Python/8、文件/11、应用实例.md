# 1、拷贝文件

```
# _*_ coding : utf-8 _*_
# @Time : 2022/10/13 22:12
# @Author : HackWu
# @File : test_01
# @Project : test
import os
def copy_file(src_file,dst_file):   #src_file,源文件路径；dst_file,拷贝后的文件路劲
    if not os.path.isfile(src_file):
        print(f"{src_file}文件不存在！")
        return False
    with open(src_file,mode="rb") as sf,open(dst_file,mode="wb") as df:
        chunk=10240         #每次读取10M的内容
        while True:
            content=sf.read(chunk)
            if not content:
                break
            df.write(content)
copy_file("src.txt","dst.txt")
```

# 2、tailf 监控文件

> **类似于linux中的 tailf命令**


```
# _*_ coding : utf-8 _*_
# @Time : 2022/10/13 22:12
# @Author : HackWu
# @File : test_01
# @Project : test
import  time
def tailf(file,tail_line):
    '''
         file:(str)       需要监听的文件内容
         taile_line:(int) 指定打印文件倒数几行的内容
     '''
    with open(file,mode="rb") as f:
        position=0
        line=""
        while len(line)<=tail_line:
            position-=1
            f.seek(position,2)
            line=f.readlines()
        line.pop(0)     #删除第一行的数据，这一行是一个换行符
        for item in line:
            print(item.decode("utf-8"),end="")
        f.seek(0,2)
        while True:
            content=f.readline()
            if content:
                print(content.decode("utf-8"),end="")
            time.sleep(0.2)
            
tailf("aa.txt",7)
```

# 3、 修改文件

- 方法一(占用很小的内存，当文件过大时推荐使用这个)：

```
import os
def modfiy(file):        #将所有内容转为大写
    data=""
    with open(file,mode="rt",encoding="utf-8") as sf,\
            open(f".{file}.swap",mode="wt",encoding="utf-8") as df:
        tunck=1024
        while True:
            data=sf.read(tunck).upper()
            if not data:
                break
            df.write(data)
    os.remove(file)
    os.rename(f".{file}.swap",file)
modfiy("bb.txt")
```

- 方法二（会额外占用内存，当文件较小时，推荐使用这个，速度快）：

```
def modfiy(file):    #将所有内容转为大写
    data=""
    with open(file,mode="rt",encoding="utf-8") as f:
        data=f.read().upper()
    with open(file,mode="wt",encoding="utf-8") as f:
        f.write(data)
modfiy("bb.txt")
```