# 案例一、文件的修改

文件的数据是存放于硬盘上的，因而只存在覆盖、不存在修改这么一说，我们平时看到的修改文件，都是模拟出来的效果，具体的说有两种实现方式：

方式一：将硬盘存放的该文件的内容全部加载到内存，在内存中是可以修改的，修改完毕后，再由内存覆盖到硬盘（word，vim，nodpad++等编辑器）

```
import os
with open('a.txt') as read_f,open('a.txt.new','w') as write_f:
  data = read_f.read()
  data = data.replace('Hello','nihao')
  write_f.write(data)
os.remove('a.txt')
os.rename('a.txt.new','a.txt')
```

方式二：将硬盘存放的该文件的内容一行一行地读入内存，修改完毕就写入新文件，最后用新文件覆盖

源文件

```
import os
with open('a.txt') as read_f,open('a.txt.new','w') as write_f:
  for line in read_f:
    line = line.replace('nihao','Hello')
    write_f.write(line)
os.remove('a.txt')
os.rename('a.txt.new','a.txt')
```

# 案例二、完成文件的复制

```
file = open("README")
while True:
  text = file.readline()
  print(text)
  if not text:
    break
file.close()
# --------------------------------------------------------------------------
-----------
# 小文件复制
file1 = open("README", "r")
file2 = open("README[复件]", "w")
text = file1.read()
file2.write(text)
file1.close()
file2.close()
# --------------------------------------------------------------------------
-----------
# 大文件复制
file3 = open("README", "r")
file4 = open("README[大文件复制]", "w")
while True:
  text = file3.readline()
  if not text:
    break
  file4.write(text)
file3.close()
file4.close()
```

# 案例三、计算总价

文件a.txt内容：每一行内容分别为商品名字，价钱，个数。

```
apple 10 3
tesla 100000 1
mac 3000 2
lenovo 30000 3
chicken 10 3
```

通过代码，将其构建成这种数据类型：[{'name':'apple','price':10,'amount':3},

{'name':'tesla','price':1000000,'amount':1}......] 并计算出总价钱。

```
list = []
with open('a.txt','r',encoding='utf-8') as file:
  for line in file:
    list2 = line.strip().split()
    if list2:
      dic = {'name':list2[0],'price':list2[1],'amount':list2[2]}
      list.append(dic)
    continue
print(list)
price = 0
for i in list:
  price += int(i['price']) * int(i['amount'])
print(price)
```