# 代码

```
# _*_ coding : utf-8 _*_
# @Time : 2022/4/2 16:41
# @Author : HackWu
# @File : login1
# @Project : Python
while True:
    list1=[]
    with open("db.txt","r",encoding="utf-8") as read_f:
        for line in read_f.readlines():
            line_list=line.strip().split(":")
            dict1={"username":line_list[0],"password":line_list[1]}
            list1.append(dict1)
    print("欢迎光临！！".center(20,"*"))
    print("1、注册账户".center(20,"*"))
    print("2、登录账户".center(20,"*"))
    print("0、退出".center(20,"*"))
    try:
        user_select=int(input("请输入你的选择：\n"))
    except:
        print("输入错误！！")
        continue
    if user_select==0:
        break
    #注册功能
    if user_select==1:
        #验证用户名是否正确
        while True:
            flag=True
            user_name=input("请输入注册的用户名：\n")
            for dict_tmp in list1:
                if dict_tmp["username"]==user_name:
                    print("用户已经存在")
                    flag=False
                    break
            if flag:
                break
        #验证注册的密码是否合法
        while True:
            flag2=True
            user_password=input("请输入注册的密码：")
            if len(user_password)<8:
                print("密码的长度不能小于8")
                flag2=False
            elif user_password.isalpha():
                print("用户的必须有由数字和字母组成")
                flag2=False
            elif user_password.isdigit():
                print("密码必须由数字和字母组成")
                flag2=False
            elif user_password.isalnum():
                print("密码合法")
                user_password2=input("确认密码！")
                if user_password!=user_password2:
                    print("密码不一致")
                    flag2=False
            if flag2:
                break
        print(user_name,user_password)
        with open("db.txt","a",encoding="utf-8") as write_f:
            str1="\n"+user_name+":"+user_password   #换行追加
            write_f.write(str1)
    #登录功能
    if user_select==2:
        #验证用户名是否存在
        while True:
            flag=False
            user_name=input("请输入用户名：\n")
            for dict_tmp in list1:
                num=-1
                if dict_tmp.get("username")==user_name:
                    for i in range(3):
                        num+=1
                        user_password=input("请输入密码")
                        if user_password!=dict_tmp.get("password"):
                            print(f"密码输入错误，你还有{2-i}此机会！！")
                        else:
                            break
                    if num<3:
                        flag=True
                        break
            if flag:
                break
            else:
                print("用户名不存在")
        print("登录成功！！")
```

# db.txt

```
zhangsan:1234qwer
lisi:1234qwer
wangwu:123456qwer
hack:123456qwer
```