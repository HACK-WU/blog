# 1、DATABASES

此标签和数据库相关，服务运行时，会检测Linux服务器中自带的sqlit3的版本，如果版本不对，就无法运行。

> **Centos 7.8 中自带的sqlite3的版本是3.7**
> **     -但如果使用的django的版本是高于2.8以上的，服务要去的sqlite3的版本是3.7以上的。**
> **         django==4.0  要求sqlite3>=3.9**
> **    -所以如果使用的django版本过高，需要升级sqlite3,很麻烦，就算升级完成后，系统可能也识别不到。**
> **    -解决办法：**
> **       -1、****推荐: **** ****降低django的版本至2.0：django==2.0**
> **       -2、如果django,服务过程中，没有使用到数据库，可以直接将settings.py中的此项标签，注释掉，这样就不会检测sqlite3的版本了。**
> **       -3、升级sqlite3 ，比较麻烦**
> **       -4、直接根据报错更改源码（不推荐）**


```python
DATABASES = {                
    'default': {
        'ENGINE': 'django.db.backends.sqlite3',
        'NAME': os.path.join(BASE_DIR, 'db.sqlite3'),
    }
}
#MySQL
DATABASES = {
    "default": {
        "ENGINE": "django.db.backends.mysql",
        "NAME": "数据库名称",
        "USER": "用户名",
        "PASSWORD": "密码",
        "HOST": "127.0.0.1",  # 数据库地址
        "PORT": 3306          # 端口号默认是整型，不要加引号
    }
}
```

# 2、ALLOWED_HOSTS

> **settings.py 配置文件中，有一个值：ALLOWED_HOSTS，这是一个元素为str的列表，主要也是用来指定可以访问的IP的，同时也可以用来指定域名。**
> **当以0.0.0.0 启动时，需要修改此选项，否则可能访问失败：**
> **ALLOWED_HOSTS=["*"]	****	#表示任意IP，均可以范围****（常用）**
> **ALLOWED_HOSTS=["192.168.23.11","192.168.23.23"] **** #表示只有这两个IP可以访问**
> **ALLOWED_HOSTS=[''hackwu.cn.ww"]****		#表示只能通过这个域名访问，通过IP也不行、**


```
ALLOWED_HOSTS = ["*"]
```

# 3、STATIC_URL &&S TATICFILES_DIRS

> **settings.py****中设置：****STATIC_URL="static/"****  的方法，给某一个子路径开放权限，**
> **可以实现http的远程访问。但是注意，其中的static/这个路径只是某一个目录的别名，具体是哪个目录，客户端一般不会知道。**
> **所以还需要为这个别名，绑定一个真正存在的目录，或者是路径。具体方法如下：**
> **STATIC_URL = 'static/'**	**#设置静态文路径的别名，为static**
> **STATICFILES_DIRS=[	**		
> **os.path.join(BASE_DIR,"static")**	**#为这个别名，绑定真正的的目录，正好也是static,当然也可以写test,随便。**
> **]**
> **此时localhost/static/xxx,这个路由就会执行static这个目录中的文件。**
> **而且不用配置路由分发url,也可以访问。**
> **3、如果前端页面，需要引用静态文件夹下的文件，需要先先加载静态资源文件才可以。**
> **{% load static % }**
> **<img src="{% static 'img/default.png' %}" />		****#使用静态资源下的文件**


```python
STATIC_URL = 'static/'
STATICFILES_DIRS=[			
    os.path.join(BASE_DIR,"static")	    
]
```

# 4、BASE_DIR

```python
from pathlib import Path
# Build paths inside the project like this: BASE_DIR / 'subdir'.
BASE_DIR = Path(__file__).resolve().parent.parent
################################
该段代码定义了 Django 项目的根目录 BASE_DIR。Path 是 Python 标准库中的一个模块，用于处理文件和目录的路径问题。
具体而言，该代码使用 Path 中的 __file__ 属性获取当前 Python 文件（即 settings.py）的绝对路径，并使用 resolve() 方法将其规范化为真实路径。然后，使用 parent 属性获取上一级目录，再次使用 parent 属性获取上上级目录，即 Django 项目的根目录。
BASE_DIR 变量在 Django 项目中经常使用，例如用于设置静态资源和媒体文件的存放路径等。这种方法可以帮助我们避免手动输入硬编码的路径，保证了代码的可移植性和跨平台性。
```

# **5、media媒体文件配置：**

- **setting.py**

- **MEDIA_URL="/media/"**

- **MEDIA_ROOT = os.path.join(BASE_DIR,'media')	****	**

- **#创建用户时，如果包含文件信息，比如头像。那么头像图片会自动保存到此目录(media)下。**

- **当需要使用到此目录时，系统会自动创建**

**5、**

```python
# 你需要自己在urls.py中书写代码
from django.views.static import serve
#from BBS14 import settings
from diango.conf import settings
# 固定写法 不要自己改动
re_path(r'^media/(?P<path>.*)',serve,{'document_root':settings.MEDIA_ROOT}),
```

- **这是通过：****localhost/media/......****	就可以访问对应的资源了。有点类似于static静态文件夹。**