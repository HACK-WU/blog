# 1、View 基本视图类

## views.py   视图函数

```
from django.views import  View
class myLogin(View):
    def get(self,request):
        return HttpResponse("get方法")
    def post(self,request):
        return HttpResponse("post方法")
```

## urls.py

```
from app01 import views
urlpatterns = [
    path('admin/', admin.site.urls),
    path("index/",views.myLogin.as_view()),    #选择对应的类，然后直接调用as_view()方法即可，as_view是继承的django中的View中的方法。
]
```

# 2、TemplateView 模板视图类

- **TemplateView****中，继承了View 基本视图类。**

- **并且其中封装好了一个get 方法，只需要将前端页面指定给****template_name**** 属性即可。**

- **当CBV 接收到get方法时，就会自动响应template_name 指定的前端页面。**

- **如果要使用post 方法，自定义即可。**

- **缺点就是无法直接将变量渲染到模板中。**

```
from  django.views.generic import TemplateView
class UserAddView(TemplateView):
    template_name = "index"
    def post(self,request):
        pass
        ......
```

# 3、ListView   

- 只需要指定html前端页面和一个需要传递的model模型，

- 就可以将所有的model实例对象，传递到前端。

- 渲染前端的model对象为： **object_list**

```
from  django.views.generic import View,ListView,TemplateView
from django.contrib.auth.models import Group
class GroupListView(ListView):
    template_name = "group_list.html"
    model = Group        #指定对应的模型类
```

**以下都是AI的回答**

在 Django 中还有很多其他常用的高级视图对象，包括： 

1. TemplateView：基于模板渲染的视图。可以将模板和上下文数据混合在一起，以生成响应。

1. ListView：可以从数据库中检索对象的视图。包括一个内置的查询集，可以通过重写该查询集来更改默认行为。

1. DetailView：用于显示单个对象的详细信息的视图。通常与ListView相结合使用。

1. FormView：用于显示表单页面，并处理表单提交的视图。可以自动验证表单输入并保存数据。常常用于实现用户注册，登录等功能。

1. CreateView、UpdateView、DeleteView：这些视图提供了一种处理创建、更新和删除对象的标准方式。它们依次称为“创建视图”、“更新视图”和“删除视图”。

1. RedirectView：用于返回 HTTP 重定向响应的视图。可以将请求重定向到其他页面或 URL。

下面是对以上几个视图类的示例代码：

1. TemplateView

```
pythonCopy Codefrom django.views.generic import TemplateView
class HomePageView(TemplateView):
    template_name = "home.html"
```

1. ListView

```
pythonCopy Codefrom django.views.generic import ListView
from .models import Post
class PostListView(ListView):
    model = Post
    template_name = "post_list.html"
    context_object_name = "posts"
```

1. DetailView

```
pythonCopy Codefrom django.views.generic import DetailView
from .models import Post
class PostDetailView(DetailView):
    model = Post
    template_name = "post_detail.html"
```

1. FormView

```
pythonCopy Codefrom django.views.generic.edit import FormView
from .forms import ContactForm
class ContactView(FormView):
    template_name = "contact.html"
    form_class = ContactForm
    success_url = "/thanks/"
    def form_valid(self, form):
        # 处理表单提交后的逻辑
        return super().form_valid(form)
```

1. CreateView

```
pythonCopy Codefrom django.views.generic.edit import CreateView
from .models import Post
class PostCreateView(CreateView):
    model = Post
    fields = ["title", "content"]
    template_name = "post_form.html"
    def form_valid(self, form):
        form.instance.author = self.request.user
        return super().form_valid(form)
```

1. RedirectView

```
pythonCopy Codefrom django.views.generic import RedirectView
class BlogAboutView(RedirectView):
    url = "/about/"
```

这些都是 Django 中常用的高级视图对象的示例，它们提供了丰富的功能，能大大简化 web 应用程序的开发过程。