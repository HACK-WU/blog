```python
#内置用户频率限制，是根据用户的类型进行限制的。
#如果我们想根据IP限制访问的频率需要自定义频率限制类，并继承SimpleRateThrottle 类。
#SimpleRateThrottle 返回什么就会根据那个返回的作为限制的条件，所以内置的频率限制返回的是用户的id
#而我们自己重写的时候，需要返回的是用户的ip
# 写一个类，继承SimpleRateThrottle，只需要重写get_cache_key 
from rest_framework.throttling import SimpleRateThrottle
#继承SimpleRateThrottle
class MyThrottle(SimpleRateThrottle):
    scope='luffy'		#scope相当于是一个域名空间，每定义一个频率限制类，都需要设置这样一个空间。
    def get_cache_key(self, request, view):
        print(request.META.get('REMOTE_ADDR'))
        return request.META.get('REMOTE_ADDR')   # 返回
# 全局使用 
REST_FRAMEWORK={
    'DEFAULT_THROTTLE_CLASSES': (
        'utils.throttling.MyThrottle',
    ),
    'DEFAULT_THROTTLE_RATES': {
        'luffy': '3/m'  # key要跟类中的scop对应
    },
}
#局部使用：
在CBV中添加throttle_classes = [throttle.MyThrottle] 即可。
```