# 生产者与消费者模型

```python
# _*_ coding : utf-8 _*_
from multiprocessing import  Queue,Process,JoinableQueue
import  time,random
def producer(name,food,q):
    data=f"{name}做个一个{food}"
    for i in range(0,5):
        time.sleep(random.randint(1,3))
        # print(data)
        q.put(data)
def  consumer(name,q):
    while True:
        time.sleep(random.randint(1,2))
        data=q.get()
        print(f"{name}吃了{data}")
        q.task_done()       #JoinenableQueue队列中的计数器-1
if __name__ == '__main__':
    # q=Queue()
    q=JoinableQueue()        #将队列换成JoinenableQueue队列
    cook1=Process(target=producer,args=("大厨_1","包子",q))     #做早饭
    cook2=Process(target=producer,args=("大厨_2","馒头",q))
    cook1.start()
    cook2.start()
    zhansan=Process(target=consumer,args=("张三",q))      #吃早饭
    lisi=Process(target=consumer,args=("李四",q))
    zhansan.daemon=True
    lisi.daemon=True
    zhansan.start()
    lisi.start()
    cook1.join()
    cook2.join()
    q.join()    #当JoinenableQueue队列中的计数器为0时才往后执行，也就是说当队列中没有数据了才往后执行
```