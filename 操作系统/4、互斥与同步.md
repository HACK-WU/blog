# **1、进程同步、进程互斥**

## **1）什么是进程同步**

![](images/WEBRESOURCEa5b17a8ae1a8e2508fe3560ec817400e截图.png)

## **2）进程同步**

![](images/WEBRESOURCEaca2699123b8943430909dbc82f3316d截图.png)

## **3）什么是进程互斥**

![](images/WEBRESOURCEb95ff4e4b0a87627b0b5ca8536bbc3b4截图.png)

![](images/WEBRESOURCE897f4363355e723f2079f16d8a4f809e截图.png)

![](images/WEBRESOURCE72af20e1b49b4016e293c851737aea8e截图.png)

## **4）总结**

![](images/WEBRESOURCE4e63f8af2cb79807e7c82991f07da99c截图.png)

# **2、进程互斥的软件实现方法**

## **1）知识预览**

![](images/WEBRESOURCEe5366842007ba82643a817dce6010202截图.png)

## **2）单标志法**

![](images/WEBRESOURCE0602f52544d6eb0cda9a18c667ded6a1截图.png)

![](images/WEBRESOURCE9c8436ffc9a83b492dc332c0a7375e75截图.png)

## **3）双标志先检查法**

![](images/WEBRESOURCEa0cb35912130e9db381e5223eccb2b49截图.png)

## **4）双标志后检查法**

![](images/WEBRESOURCE2ae0f296ca2ee32afbd6efa3f6a29811截图.png)

## **5）Peterson算法**

![](images/WEBRESOURCE4c6934bc87dc6207f9d0809d746500e9截图.png)

## **6）总结**

![](images/WEBRESOURCE41a966dd5cfd0d550f1b741c658fec0f截图.png)

# **3、进程互斥的硬件实现方法**

## **1）知识预览**

![](images/WEBRESOURCEac201ab16dfc81cc5e4202493b7b2412截图.png)

## **2）中断屏蔽方法**

![](images/WEBRESOURCE1aab3d13abace4a42a1339108b200ee2截图.png)

## **3）TestAndSet指令**

![](images/WEBRESOURCE8b16107db3ec89b0f3be7b30fe45c917截图.png)

## **4）Swap指令**

![](images/WEBRESOURCEe1b838c0ded1fcfa42ed7250f6864e5b截图.png)

## **5）总结**

![](images/WEBRESOURCEb1e8820177bf3ceb49ef0e0687add6de截图.png)

# **4、信号量机制**

## **1）知识预览**

![](images/WEBRESOURCE2e8d9e66bb481303533f8124d2a1afb1截图.png)

## **2）信号量机制（P、V操作）**

![](images/WEBRESOURCE970e9305a6f92ad02d2376da8ae39052截图.png)

### **1、信号量机制--整型信号量**

![](images/WEBRESOURCEba29dcb09b41725349c4715313de70af截图.png)

### **2、信号量机制--记录型信号量**

![](images/WEBRESOURCEf623aec3f45f05a2fc4f7a3d50e5f7c4截图.png)

![](images/WEBRESOURCEda0f7c6012927c90483e38f3f7f9a4e8截图.png)

![](images/WEBRESOURCE88f5b15c753b895cb38d8d17f453a02e截图.png)

![](images/WEBRESOURCE246201f49eb2b26cd150e9014638a3f9截图.png)

![](images/WEBRESOURCEfef9929cc8a68d55a26387eb33bc753c截图.png)

## **3）总结**

![](images/WEBRESOURCE4af624c12d312d6fee1b710063bb0b54截图.png)

# **5、用信号量实现进程互斥、同步、前驱关系**

## **1）信号量机制实现进程互斥**

![](images/WEBRESOURCE5b64b2af4f716da5c89ac91d33a596cc截图.png)

## **2）信号量机制实现进程同步**

![](images/WEBRESOURCEc2d01a036349d4db02c87607dbfec531截图.png)

![](images/WEBRESOURCE52d18becfe60228744af9ae9305a18aa截图.png)

## **3）信号量机制实现前驱关系**

![](images/WEBRESOURCE7efe705adc5ae10fc802e862c65de2c3截图.png)

## **4）总结**

![](images/WEBRESOURCE0d8b29192bca8764dac20e8bc6bd8055截图.png)

# **P、V操作可以看成是开门关门问题**

把临界区（也就是共享资源）看成是一个房子，为了保准房子只准一个进程访问，所以设定这个房子一开始时门就是开着的，谁先进去，设就可以进行P操作，P操作是关门，并且进行反锁，即是使用V操作也开不了门（并且只有人在房子里面，才关得了门），然后出来的时候进行V操作也就是开门。然后其他程序才可以进入房子。但是V操作即可以从里面开门，也可以从外面开门，如果有人V操作无效。

**以上问题可以看成是进程互斥问题，并且关键点在于房子门一开始就是开着的**

**那么怎么实现进程同步呢？**

**1、进程互斥的时候，一个进程具有两个权利，就是它既可以进行P，操作也可以进行V操作。**

**2、实现进程同步：**

**假设有P1和P2，且规定P1进入房子之后，P2才可以进入房子。**

**那么只需要规定，房子一开始的时候的门就是关着的，并且P1只可以进行V操作，P2只可以进程P操作，**

**所以只有P1先开门，p2才可以有机会进入房子。**

**此问题的关键点就在于一开始就设定房子的门是关着的**